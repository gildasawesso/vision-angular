<div class="d-flex align-items-center">
  <mat-form-field appearance="outline" class="mr-2">
    <mat-label>Classe</mat-label>
    <mat-select [formControl]="classroomSelected" [compareWith]="utils.common.compareFn">
      <mat-option [value]="null">Toutes les classes</mat-option>
      <mat-option *ngFor="let classroom of classrooms" [value]="classroom">{{classroom.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline" class="mr-2">
    <mat-label>Cours</mat-label>
    <mat-select [formControl]="subjectSelected" [compareWith]="utils.common.compareFn">
      <mat-option [value]="null">Tous les cours</mat-option>
      <mat-option *ngFor="let subject of subjects" [value]="subject">{{subject.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline" class="mr-2">
    <mat-label>Types d'examination</mat-label>
    <mat-select [formControl]="examinationTypeSelected" [compareWith]="utils.common.compareFn">
      <mat-option [value]="null">Tous les types d'examination</mat-option>
      <mat-option *ngFor="let examinationType of examinationTypes" [value]="examinationType">{{examinationType.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <button class="mb-3 ml-auto" mat-flat-button color="primary" (click)="add()" *ngxPermissionsOnly="['ADMIN', constants.permissions.addExamination]">Ajouter une examination</button>
</div>

<ngx-datatable class="material ngx-datatable fixed-header scroll-vertical"
               [loadingIndicator]="tableIsLoading"
               [rows]="rows"
               [columns]="columns"
               columnMode="force"
               [headerHeight]="50"
               [footerHeight]="50"
               [sortType]="sortType.multi"
               [scrollbarV]="true"
               [rowHeight]="50">
  <ng-template #subjectTemplate let-row="row">{{row.subject.name | titlecase}}</ng-template>
  <ng-template #examinationTypeTemplate let-row="row">{{row.type.name}}</ng-template>
  <ng-template #noteTemplate let-row="row">
    <button mat-raised-button (click)="openNotesPage(row)">Notes</button>
  </ng-template>
  <ng-template #actionsTemplate let-row="row">
    <button (click)="edit(row)" color="accent" mat-icon-button><mat-icon>edit</mat-icon></button>
    <button (click)="delete(row)" color="warn" mat-icon-button><mat-icon>delete</mat-icon></button>
  </ng-template>
</ngx-datatable>
